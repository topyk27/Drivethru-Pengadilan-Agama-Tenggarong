var now=new Date,tahun=now.getFullYear(),bulan=now.getMonth()+1;moment.locale("id");var nama_bulan=moment().format("MMMM");function jumlah_hari(a,e){return new Date(e,a,0).getDate()}"false"==token&&location.replace(base_url+"aktivasi"),$.ajax({url:"https://raw.githubusercontent.com/topyk27/Drivethru-Pengadilan-Agama-Tenggarong/master/asset/mine/token/token.json",method:"GET",dataType:"json",beforeSend:function(){$(".loader2").show()},success:function(a){try{nama_pa==a[nama_pa_pendek][0].nama_pa&&nama_pa_pendek==a[nama_pa_pendek][0].nama_pa_pendek&&token==a[nama_pa_pendek][0].token||location.replace(base_url+"aktivasi")}catch(a){location.replace(base_url+"aktivasi")}$(".loader2").hide()},error:function(a){$.ajax({url:base_url+"asset/mine/token/token.json",method:"GET",dataType:"json",success:function(a){try{nama_pa==a[nama_pa_pendek][0].nama_pa&&nama_pa_pendek==a[nama_pa_pendek][0].nama_pa_pendek&&token==a[nama_pa_pendek][0].token||location.replace(base_url+"aktivasi")}catch(a){location.replace(base_url+"aktivasi")}$(".loader2").hide()},error:function(a){$(".loader2").hide(),alert("Gagal dapat data token, harap hubungi administrator")}})}}),$(document).ready((function(){$("#title_statistik").text("Statistik Pengambilan Drive Thru Bulan "+nama_bulan),$("#sidebar_home").addClass("active"),$.ajax({url:base_url+"pengambilan/statistik",method:"GET",dataType:"json",success:function(a){for(var e=jumlah_hari(bulan,tahun),t=[],n=[],o=!1,r=1;r<=e;r++){for(var i in o=!1,a)if(r==a[i].tanggal){t.push(parseInt(a[i].tanggal)),n.push(parseInt(a[i].total)),o=!0;break}o||(t.push(r),n.push(0))}var s={labels:t,datasets:[{label:"Pengambilan",backgroundColor:"rgba(60,141,188,0.9)",borderColor:"rgba(60,141,188,0.8)",pointRadius:!1,pointColor:"#3b8bba",pointStrokeColor:"rgba(60,141,188,1)",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(60,141,188,1)",data:n}]},l=$("#barChart").get(0).getContext("2d"),p=jQuery.extend(!0,{},s),u=s.datasets[0];p.datasets[0]=u;new Chart(l,{type:"bar",data:p,options:{responsive:!0,maintainAspectRatio:!1,datasetFill:!1,scales:{yAxes:[{ticks:{stepSize:1}}]},tooltips:{enabled:!0,mode:"single",callbacks:{title:function(a,e){return a[0].xLabel+" "+moment().format("MMMM")}}}}})}})}));