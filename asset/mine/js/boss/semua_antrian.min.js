var dt_antrian;function hapusData(a){$.ajax({url:base_url+"bos/antrian_hapus/"+a,dataType:"text",success:function(a){"1"==a?(dt_antrian.ajax.reload(),$("#respon").html("<div class='alert alert-success' role='alert' id='responMsg'><strong>Selamat</strong> Data berhasil dihapus</div>"),$("#responMsg").hide().fadeIn(200).delay(2e3).fadeOut(1e3,(function(){$(this).remove()}))):($("#respon").html("<div class='alert alert-warning' role='alert' id='responMsg'><strong>Maaf</strong> Data gagal dihapus. Silahkan coba lagi.</div>"),$("#responMsg").hide().fadeIn(200).delay(2e3).fadeOut(1e3,(function(){$(this).remove()})))}})}$(document).ready((function(){$("#sidebar_antrian").addClass("active"),$("#sidebar_semua_antrian").addClass("active"),moment.locale("id"),$.fn.dataTable.moment("LL"),dt_antrian=$("#dt_antrian").DataTable({dom:"Bfrtip",order:[[1,"asc"]],ajax:{url:base_url+"bos/data_semua_antrian",dataSrc:""},columns:[{data:"id"},{data:null,sortable:!0,render:function(a,t,n,e){return e.row+e.settings._iDisplayStart+1}},{data:"no_perkara"},{data:"no_ac"},{data:"nama"},{data:"pihak"},{data:null,sortable:!1,render:function(a,t,n,e){return ret="1"==n.ac?"Akta Cerai":"",ret+="1"==n.ac&&"1"==n.salinan?"<br/> dan <br/>":"",ret+="1"==n.salinan?"Salinan":"",ret}},{data:"no_hp"},{data:"jadwal"},{data:"antrian"},{data:null,sortable:!1,render:function(a,t,n,e){return"<a href='"+base_url+"bos/antrian_ubah/"+n.id+"' class='btn btn-warning'><i class='fas fa-edit'></i>Ubah</a><a href='#' class='btn btn-danger deleteButton'><i class='fas fa-trash'></i>Hapus</a>"}}],columnDefs:[{targets:[0,3],visible:!1},{targets:[10],orderable:!1},{targets:8,data:"jadwal",render:function(a,t,n,e){var r=new Date(a);return moment(r).format("LL")}}],responsive:!0,autoWidth:!1}),$("#dt_antrian tbody").on("click","tr .deleteButton",(function(a){a.preventDefault();var t=$(this).closest("li").length?$(this).closest("li"):$(this).closest("tr"),n=$("#dt_antrian").DataTable().row(t).data();$("#hapusModal").modal("show"),$("#hapusModal").find(".modal-body").html("<p>Apakah anda ingin menghapus data "+n.nama+"? Data ini tidak bisa dipulihkan kembali."),$("#hapusModal").find("#deleteButton").attr("onclick","hapusData("+n.id+")")})),$("#form_filter").on("submit",(function(a){a.preventDefault(),$.ajax({type:"POST",url:base_url+"bos/data_antrian_filter",data:$(this).serialize(),success:function(a){dt_antrian.clear(),dt_antrian.rows.add(JSON.parse(a)),dt_antrian.draw()}})}))}));